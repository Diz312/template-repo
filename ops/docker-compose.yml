version: "3.9"
services:
  backend:
    build:
      context: ../backend
      dockerfile: Dockerfile
    env_file: [../.env.example]
    ports: ["8000:8000"]
    command: uvicorn app.main:app --host 0.0.0.0 --port 8000
  web:
    build:
      context: ../web
      dockerfile: Dockerfile
    env_file: [../.env.example]
    ports: ["3000:3000"]
    depends_on: [backend]

# Optional dependencies (uncomment when needed)
#  redis:
#    image: redis:7-alpine
#    ports: ["6379:6379"]
#  postgres:
#    image: postgres:16-alpine
#    environment:
#      POSTGRES_PASSWORD: postgres
#    ports: ["5432:5432"]

